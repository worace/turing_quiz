<p id="notice"><%= notice %></p>

<h3>Quiz: <%= @quiz.title %></h3>

<p>
  <strong>Slug:</strong>
  <%= @quiz.slug %>
</p>

<h3>Questions</h3>
<ul>
  <% @quiz.questions.each do |q| %>
    <li>
      <p><strong>Question: </strong><%= q.body %></p>
      <% ["option", "hint", "answer", "further_thought"].each do |resource| %>
        <% res = q.send(resource.pluralize) %>
        <% if res.any? %>
          <% res.each do |r| %>
            <p>
              <strong><%=resource.capitalize%>:</strong> <%= r.body %>
              <span><%= link_to "edit", send("edit_#{resource}_path", r) %></span>
              <span><%= link_to "delete", send("#{resource}_path", r), method: :delete %></span>
            </p>
          <% end %>
        <% end %>
        <p><%= link_to "add #{resource}", send("new_question_#{resource}_path", q) %></p>
      <% end %>
    </li>
  <% end %>
</ul>

<%= link_to 'Edit', edit_quiz_path(@quiz) %> |
<%= link_to 'Add Question', new_quiz_question_path(@quiz) %> |
<%= link_to 'Back', quizzes_path %>
